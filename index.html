<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="adsgram-site-verification" content="YOUR_TAG_HERE">
    <title>Ethio Coin Pro</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://adsgram.ai/sdk.js"></script>
    <style>
        :root { 
            --bg-dark: #050614; 
            --glass: rgba(255, 255, 255, 0.08); 
            --primary: #248bcf; 
            --accent: #00d084; 
        }

        body { 
            margin: 0; 
            font-family: 'Inter', sans-serif; 
            background: var(--bg-dark); 
            color: white; 
            padding-bottom: 90px; 
            overflow: hidden; 
            position: relative; 
            height: 100vh;
            /* Gradient background like Asbeks */
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(36, 139, 207, 0.2) 0%, transparent 40%),
                radial-gradient(circle at 90% 80%, rgba(0, 208, 132, 0.15) 0%, transparent 40%);
        }

        /* Animation Layer */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .bubble {
            position: absolute;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50%;
            filter: blur(5px);
            animation: rise 15s infinite linear;
            bottom: -100px;
        }

        @keyframes rise {
            0% { transform: translateY(0) scale(1); opacity: 0; }
            20% { opacity: 0.4; }
            100% { transform: translateY(-120vh) scale(1.5); opacity: 0; }
        }

        .page { display: none; padding: 20px; animation: slideUp 0.4s ease; height: 90vh; overflow-y: auto; }
        .active-page { display: block; }
        @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        /* Card Styles */
        .card { background: var(--glass); backdrop-filter: blur(15px); border-radius: 24px; padding: 20px; margin-bottom: 15px; border: 1px solid rgba(255,255,255,0.1); }
        .hero { background: linear-gradient(135deg, #248bcf, #0056b3); padding: 30px 20px; border-radius: 28px; text-align: center; box-shadow: 0 10px 25px rgba(0,0,0,0.4); }
        .btn { background: var(--primary); color: white; border: none; padding: 16px; border-radius: 16px; width: 100%; font-weight: 700; font-size: 16px; cursor: pointer; transition: 0.2s; }

        /* Nav Bar */
        .nav-bar { position: fixed; bottom: 0; width: 100%; background: rgba(10, 11, 30, 0.95); backdrop-filter: blur(10px); display: flex; justify-content: space-around; padding: 15px 0; border-top: 1px solid rgba(255,255,255,0.1); z-index: 1000; }
        .nav-item { text-align: center; font-size: 10px; opacity: 0.5; color: white; cursor: pointer; }
        .nav-item.active { opacity: 1; color: var(--primary); }
        .nav-item span { font-size: 22px; display: block; margin-bottom: 4px; }
    </style>
</head>
<body>

    <div class="bg-animation" id="bubble-container"></div>

    <div id="earn" class="page active-page">
        <header style="margin-bottom: 20px;">
            <p style="margin:0; opacity:0.6;">Welcome,</p>
            <h2 id="username" style="margin:5px 0;">User</h2>
        </header>

        <div class="hero">
            <p style="font-size:11px; opacity:0.8;">BALANCE</p>
            <h1 id="balance" style="font-size:42px; margin:10px 0;">$0.000000</h1>
            <button class="btn" onclick="watchAd()">üì∫ Watch Ad & Earn</button>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 15px;">
            <div class="card" style="text-align:center;">
                <p style="font-size:11px; opacity:0.6;">Total Ads</p>
                <h2 id="total-ads">0</h2>
            </div>
            <div class="card" style="text-align:center;">
                <p style="font-size:11px; opacity:0.6;">Referrals</p>
                <h2 id="total-friends">0</h2>
            </div>
        </div>
    </div>

    <div id="games" class="page">
        <h3>Games</h3>
        <div class="card">
            <h4>üéÆ Crystal Pop</h4>
            <button class="btn" style="background:#333;">Play (Soon)</button>
        </div>
    </div>

    <div id="tasks" class="page">
        <h3>Daily Tasks</h3>
        <div class="card">
            <p>Join Telegram Channel</p>
            <button class="btn" onclick="window.open('https://t.me/AsbeksNotifications')">Join Now</button>
        </div>
    </div>

    <div id="wallet" class="page">
        <h3>Wallet</h3>
        <div class="card">
            <p>Withdraw Balance</p>
            <h2 id="withdraw-balance" style="color:var(--accent);">$0.00</h2>
            <button class="btn" style="background:#222;" disabled>Min. $1.00</button>
        </div>
        <button class="btn" style="background:#333;">Connect TON Wallet</button>
    </div>

    <div class="nav-bar">
        <div class="nav-item active" onclick="showPage('earn', this)"><span>üè†</span>Earn</div>
        <div class="nav-item" onclick="showPage('games', this)"><span>üéÆ</span>Games</div>
        <div class="nav-item" onclick="showPage('tasks', this)"><span>üìà</span>Tasks</div>
        <div class="nav-item" onclick="showPage('wallet', this)"><span>üí∞</span>Wallet</div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.ready();
        document.getElementById('username').innerText = tg.initDataUnsafe.user?.first_name || "Guest";

        // Generate Bubbles
        const container = document.getElementById('bubble-container');
        for (let i = 0; i < 15; i++) {
            const b = document.createElement('div');
            b.className = 'bubble';
            const size = Math.random() * 60 + 20 + 'px';
            b.style.width = size; b.style.height = size;
            b.style.left = Math.random() * 100 + '%';
            b.style.animationDuration = Math.random() * 10 + 10 + 's';
            b.style.animationDelay = Math.random() * 5 + 's';
            container.appendChild(b);
        }

        let stats = JSON.parse(localStorage.getItem('user_stats')) || { balance: 0, ads: 0, friends: 0 };

        function updateUI() {
            document.getElementById('balance').innerText = `$${stats.balance.toFixed(6)}`;
            document.getElementById('withdraw-balance').innerText = `$${stats.balance.toFixed(2)}`;
            document.getElementById('total-ads').innerText = stats.ads;
            document.getElementById('total-friends').innerText = stats.friends;
        }

        function showPage(pageId, elm) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active-page'));
            document.getElementById(pageId).classList.add('active-page');
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            elm.classList.add('active');
        }

        const AdController = window.Adsgram.init({ blockId: "23009" });

        async function watchAd() {
            try {
                await AdController.show();
                stats.balance += 0.00036;
                stats.ads += 1;
                localStorage.setItem('user_stats', JSON.stringify(stats));
                updateUI();
                tg.showAlert("Reward added!");
            } catch (e) {
                tg.showAlert("Ad not finished.");
            }
        }
        updateUI();
    </script>
</body>
</html>
